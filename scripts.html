
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Scripts &#8212; pbs4py  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinxdoc.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="PBS Job Class" href="job.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="job.html" title="PBS Job Class"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pbs4py  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Scripts</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="scripts">
<span id="pbs-script-section"></span><h1>Scripts<a class="headerlink" href="#scripts" title="Permalink to this heading">¶</a></h1>
<section id="job-directory-script">
<h2>Job Directory Script<a class="headerlink" href="#job-directory-script" title="Permalink to this heading">¶</a></h2>
<p><p>A script to print the directory that a job is running in.</p>
</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">job_dir</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="n">job_id</span>
</pre></div>
</div>
<section id="Positional Arguments">
<h3>Positional Arguments<a class="headerlink" href="#Positional Arguments" title="Permalink to this heading">¶</a></h3>
<dl class="option-list">
<dt><kbd>job_id</kbd></dt>
<dd><p>The ID number of the job</p>
</dd>
</dl>
</section>
<section id="qdir-alias-to-cd-to-job-s-directory">
<h3>qdir alias to cd to job’s directory<a class="headerlink" href="#qdir-alias-to-cd-to-job-s-directory" title="Permalink to this heading">¶</a></h3>
<p>This script to print the job directory can be used in combination with bash
aliases to create a <code class="docutils literal notranslate"><span class="pre">qdir</span></code> alias for moving to the directory a job is running in</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>qdirfun<span class="o">()</span> <span class="o">{</span> <span class="nb">cd</span> <span class="sb">`</span>job_dir.py <span class="nv">$1</span><span class="sb">`</span><span class="p">;</span><span class="o">}</span>
<span class="nb">alias</span> <span class="nv">qdir</span><span class="o">=</span>qdirfun
</pre></div>
</div>
<p>Then in the shell instance you can do <code class="docutils literal notranslate"><span class="pre">qdir</span> <span class="pre">{job_id}</span></code> to move the job’s run directory.</p>
</section>
</section>
<section id="qdel-for-user-jobs-script">
<h2>Qdel for User Jobs Script<a class="headerlink" href="#qdel-for-user-jobs-script" title="Permalink to this heading">¶</a></h2>
<p><p>A script to delete active PBS jobs of the current user.
The list of jobs to be deleted can be filtered by id range, job name substring, and queue.
For safety, the default behavior is to show the user which jobs will be deleted and ask for confirmation
before any jobs are deleted.</p>
</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">job_dir</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">id_range</span> <span class="n">ID_RANGE</span> <span class="n">ID_RANGE</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">queue</span> <span class="n">QUEUE</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">name</span> <span class="n">NAME</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">confirm</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">confirm</span><span class="p">]</span>
</pre></div>
</div>
<section id="options">
<h3>options<a class="headerlink" href="#options" title="Permalink to this heading">¶</a></h3>
<dl class="option-list">
<dt><kbd>--id_range</kbd></dt>
<dd><p>Delete jobs in a range of id numbers, [min id, max id]</p>
<p>Default: (-1, -1)</p>
</dd>
<dt><kbd>--queue</kbd></dt>
<dd><p>Delete jobs in a specific queue</p>
<p>Default: “”</p>
</dd>
<dt><kbd>--name</kbd></dt>
<dd><p>Delete jobs in a specific string in the name</p>
<p>Default: “”</p>
</dd>
<dt><kbd>--confirm</kbd></dt>
<dd><p>Whether to prompt the user for confirmation of before deleting</p>
<p>Default: True</p>
</dd>
<dt><kbd>--no-confirm</kbd></dt>
<dd><p>Default: True</p>
</dd>
</dl>
</section>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this heading">¶</a></h3>
<p>The following command would delete the current users jobs that meet these conditions: PBS ids between 1000 and 2400,
in the K3-standard queue, and have <code class="docutils literal notranslate"><span class="pre">crm</span></code> in the job name. By default the list of jobs will be
printed to the screen asking the user for confirmation. Add <code class="docutils literal notranslate"><span class="pre">--no-confirm</span></code> would skip this step.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>qdel_user_jobs.py --id_range <span class="m">1000</span> <span class="m">2400</span> --queue K3-standard --name crm
</pre></div>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Scripts</a><ul>
<li><a class="reference internal" href="#job-directory-script">Job Directory Script</a><ul>
<li><a class="reference internal" href="#Positional Arguments">Positional Arguments</a></li>
<li><a class="reference internal" href="#qdir-alias-to-cd-to-job-s-directory">qdir alias to cd to job’s directory</a></li>
</ul>
</li>
<li><a class="reference internal" href="#qdel-for-user-jobs-script">Qdel for User Jobs Script</a><ul>
<li><a class="reference internal" href="#options">options</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="job.html"
                          title="previous chapter">PBS Job Class</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/scripts.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="job.html" title="PBS Job Class"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pbs4py  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Scripts</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, NASA.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
    </div>
  </body>
</html>